{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {
    "scrolled": false
   },
   "outputs": [],
   "source": [
    "from libs.driverGetter import getDriver\n",
    "from naver_cafe.parser.cafeBoardSearchParser import parse\n",
    "import time\n",
    "import json\n",
    "from datetime import datetime\n",
    "from selenium.webdriver.common.keys import Keys\n",
    "import os\n",
    "from selenium import webdriver\n",
    "from bs4 import BeautifulSoup\n",
    "from selenium.webdriver.chrome.options import Options\n",
    "from selenium.webdriver.support.ui import WebDriverWait\n",
    "from selenium.webdriver.support import expected_conditions as EC\n",
    "from selenium.webdriver.common.by import By\n",
    "\n",
    "driver = webdriver.Chrome(\n",
    "        executable_path=r\"./chrome/chromedriver.exe\"\n",
    "    )"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "C:\\Anaconda3\\lib\\site-packages\\ipykernel_launcher.py:221: DeprecationWarning: use driver.switch_to.frame instead\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "2020-07-17 16:54:29.118494\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:4 pageCount:0 pagingItemCount:1 lastPageItemCount:8\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:5 pageCount:0 pagingItemCount:1 lastPageItemCount:10\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:7 pageCount:0 pagingItemCount:1 lastPageItemCount:14\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:17 pageCount:0 pagingItemCount:1 lastPageItemCount:34\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:6 pageCount:0 pagingItemCount:1 lastPageItemCount:12\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:5 pageCount:0 pagingItemCount:1 lastPageItemCount:10\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:6 pageCount:0 pagingItemCount:1 lastPageItemCount:12\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:8 pageCount:0 pagingItemCount:1 lastPageItemCount:16\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:12 pageCount:0 pagingItemCount:1 lastPageItemCount:24\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:7 pageCount:0 pagingItemCount:1 lastPageItemCount:14\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:7 pageCount:0 pagingItemCount:1 lastPageItemCount:14\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:7 pageCount:0 pagingItemCount:1 lastPageItemCount:14\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:9 pageCount:0 pagingItemCount:1 lastPageItemCount:18\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:9 pageCount:0 pagingItemCount:1 lastPageItemCount:18\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:13 pageCount:0 pagingItemCount:1 lastPageItemCount:26\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:6 pageCount:0 pagingItemCount:1 lastPageItemCount:12\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:12 pageCount:0 pagingItemCount:1 lastPageItemCount:24\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:16 pageCount:0 pagingItemCount:1 lastPageItemCount:32\n",
      "next button is None\n",
      "divNodata is not exist\n",
      "검색 결과가 없음\n",
      "total:10 pageCount:0 pagingItemCount:1 lastPageItemCount:20\n",
      "[{'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2018-01-01', 'toDate': '2018-01-31', 'total': 4}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2018-02-01', 'toDate': '2018-02-28', 'total': 5}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2018-03-01', 'toDate': '2018-03-31', 'total': 7}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2018-04-01', 'toDate': '2018-04-30', 'total': 17}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2018-05-01', 'toDate': '2018-05-31', 'total': 6}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2018-06-01', 'toDate': '2018-06-30', 'total': 5}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2018-07-01', 'toDate': '2018-07-31', 'total': 6}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2018-08-01', 'toDate': '2018-08-31', 'total': 8}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2018-09-01', 'toDate': '2018-09-30', 'total': 12}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2018-10-01', 'toDate': '2018-10-31', 'total': 7}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2018-11-01', 'toDate': '2018-11-30', 'total': 7}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2018-12-01', 'toDate': '2018-12-31', 'total': 7}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2019-01-01', 'toDate': '2019-01-31', 'total': 9}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2019-02-01', 'toDate': '2019-02-28', 'total': 9}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2019-03-01', 'toDate': '2019-03-31', 'total': 13}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2019-04-01', 'toDate': '2019-04-30', 'total': 6}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2019-05-01', 'toDate': '2019-05-31', 'total': 12}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2019-06-01', 'toDate': '2019-06-30', 'total': 16}, {'cafeName': '10094499', 'keyword': '락토핏', 'fromDate': '2019-07-01', 'toDate': '2019-07-31', 'total': 10}]\n"
     ]
    },
    {
     "ename": "FileNotFoundError",
     "evalue": "[Errno 2] No such file or directory: './imsanbu/락토핏.json'",
     "output_type": "error",
     "traceback": [
      "\u001b[1;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[1;31mFileNotFoundError\u001b[0m                         Traceback (most recent call last)",
      "\u001b[1;32m<ipython-input-13-9bf9390c48b9>\u001b[0m in \u001b[0;36m<module>\u001b[1;34m\u001b[0m\n\u001b[0;32m    220\u001b[0m \u001b[0mdriver\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mget\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0murl\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0;32m    221\u001b[0m \u001b[0mdriver\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mswitch_to_frame\u001b[0m\u001b[1;33m(\u001b[0m\u001b[1;34m\"cafe_main\"\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[1;32m--> 222\u001b[1;33m \u001b[0mcollectKeywordCount\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0murl\u001b[0m\u001b[1;33m,\u001b[0m \u001b[0mcafeIdList\u001b[0m\u001b[1;33m[\u001b[0m\u001b[0midx\u001b[0m\u001b[1;33m]\u001b[0m\u001b[1;33m[\u001b[0m\u001b[1;34m'cafeName'\u001b[0m\u001b[1;33m]\u001b[0m\u001b[1;33m,\u001b[0m \u001b[0mkeywordList\u001b[0m\u001b[1;33m,\u001b[0m \u001b[0mdateList\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0m\u001b[0;32m    223\u001b[0m \u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0;32m    224\u001b[0m \u001b[0mtime\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0msleep\u001b[0m\u001b[1;33m(\u001b[0m\u001b[1;36m30\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n",
      "\u001b[1;32m<ipython-input-13-9bf9390c48b9>\u001b[0m in \u001b[0;36mcollectKeywordCount\u001b[1;34m(cafeUrl, cafeName, keywordList, dateList)\u001b[0m\n\u001b[0;32m    182\u001b[0m         \u001b[0mresult\u001b[0m \u001b[1;33m=\u001b[0m \u001b[0mgetResultList\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0mcafeUrl\u001b[0m\u001b[1;33m,\u001b[0m \u001b[0mkeyword\u001b[0m\u001b[1;33m,\u001b[0m \u001b[0mdateList\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0;32m    183\u001b[0m         \u001b[0mprint\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0mresult\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[1;32m--> 184\u001b[1;33m         \u001b[0mfile\u001b[0m \u001b[1;33m=\u001b[0m \u001b[0mopen\u001b[0m\u001b[1;33m(\u001b[0m\u001b[1;34m\"./{}/{}.json\"\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mformat\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0mcafeName\u001b[0m\u001b[1;33m,\u001b[0m \u001b[0mkeyword\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m,\u001b[0m \u001b[1;34m\"w+\"\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0m\u001b[0;32m    185\u001b[0m         \u001b[0mfile\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mwrite\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0mjson\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mdumps\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0mresult\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0;32m    186\u001b[0m \u001b[1;33m\u001b[0m\u001b[0m\n",
      "\u001b[1;31mFileNotFoundError\u001b[0m: [Errno 2] No such file or directory: './imsanbu/락토핏.json'"
     ]
    }
   ],
   "source": [
    "\n",
    "# driver.find_element_by_xpath('//*[@id=\"account\"]/div/a').click()\n",
    "# #\n",
    "# #id\n",
    "# driver.find_element_by_xpath('//*[@id=\"id\"]').send_keys(\"\")\n",
    "# driver.find_element_by_xpath('//*[@id=\"pw\"]').send_keys(\"\")\n",
    "# # login button\n",
    "# driver.find_element_by_xpath('//*[@id=\"frmNIDLogin\"]/fieldset/input').click()\n",
    "# time.sleep(2)\n",
    "\n",
    "\n",
    "def findKeywordDate(url, keyword, fromDate, toDate):\n",
    "    keywordInput = driver.find_element_by_css_selector('#queryTop')\n",
    "    keywordInput.clear()\n",
    "    keywordInput.send_keys(keyword)\n",
    "\n",
    "    #검색 버튼\n",
    "    driver.find_element_by_xpath('//*[@id=\"main-area\"]/div[1]/div[1]/form/div[4]/button').click()\n",
    "\n",
    "    # list size 50\n",
    "    driver.find_element_by_xpath('//*[@id=\"listSizeSelectDiv\"]/a').click()\n",
    "    driver.find_element_by_xpath('//*[@id=\"listSizeSelectDiv\"]/ul/li[7]/a').click()\n",
    "\n",
    "    # 검색기간 버튼 누르기\n",
    "    driver.find_element_by_xpath('//*[@id=\"currentSearchDateTop\"]').click()\n",
    "\n",
    "    fromDateInputBox = driver.find_element_by_xpath('//*[@id=\"input_1_top\"]')\n",
    "    fromDateInputBox.clear()\n",
    "    fromDateInputBox.send_keys(fromDate)\n",
    "    fromDateInputBox.send_keys(Keys.TAB)\n",
    "\n",
    "\n",
    "    toDateInputBox = driver.find_element_by_xpath('//*[@id=\"input_2_top\"]')\n",
    "    toDateInputBox.clear()\n",
    "    toDateInputBox.send_keys(toDate)\n",
    "    fromDateInputBox.send_keys(Keys.TAB)\n",
    "\n",
    "    # 설정 버튼\n",
    "    setupButton = driver.find_element_by_xpath('//*[@id=\"btn_set_top\"]')\n",
    "    setupButton.click()\n",
    "    time.sleep(1)\n",
    "\n",
    "    driver.find_element_by_xpath('//*[@id=\"main-area\"]/div[1]/div[1]/form/div[4]/button').click()\n",
    "\n",
    "    # paging button이 들어있는 박스\n",
    "    prevNext = driver.find_element_by_xpath('//*[@id=\"main-area\"]/div[7]')\n",
    "\n",
    "    nextButton = None\n",
    "    prevButton = None\n",
    "    pagingItems = 0\n",
    "    pagingItemCount = 0\n",
    "    pageCount = 0\n",
    "    divNodata = None\n",
    "    # 마지막 페이지를 클릭한다\n",
    "    try:\n",
    "        nextButton = driver.find_element_by_css_selector('#main-area > div.prev-next > a.pgR > span')\n",
    "    except:\n",
    "        print(\"next button is None\")\n",
    "\n",
    "    try:\n",
    "        pagingItems = prevNext.find_elements_by_tag_name(\"a\")\n",
    "    except:\n",
    "        print(\"pagingItems is null\")\n",
    "\n",
    "    try:\n",
    "        divNodata = driver.find_element_by_css_selector('document.querySelector(\"#main-area > div:nth-child(7) > table > tbody > tr > td > div\")')\n",
    "    except:\n",
    "        divNodata = None\n",
    "        print(\"divNodata is not exist\")\n",
    "\n",
    "    # item개수를 센다\n",
    "    while nextButton != None:\n",
    "        try:\n",
    "            prevNext = driver.find_element_by_xpath('//*[@id=\"main-area\"]/div[7]')\n",
    "        except:\n",
    "            prevNext = None\n",
    "            print(\"prevNext is null\")\n",
    "\n",
    "        try:\n",
    "            nextButton = driver.find_element_by_css_selector('#main-area > div.prev-next > a.pgR > span')\n",
    "        except:\n",
    "            nextButton = None\n",
    "            print(\"next button is None\")\n",
    "\n",
    "        try:\n",
    "            prevButton = driver.find_element_by_css_selector('#main-area > div.prev-next > a.pgL > span')\n",
    "        except:\n",
    "            prevButton = None\n",
    "            print(\"prev button is None\")\n",
    "\n",
    "        try:\n",
    "            pagingItems = prevNext.find_elements_by_tag_name(\"a\")\n",
    "            pagingItemCount = len(pagingItems)\n",
    "        except:\n",
    "            pagingItems = None\n",
    "            pagingItemCount = 0\n",
    "            print(\"pagingItems is null\")\n",
    "\n",
    "        try:\n",
    "            divNodata = driver.find_element_by_css_selector('document.querySelector(\"#main-area > div:nth-child(7) > table > tbody > tr > td > div\")')\n",
    "        except:\n",
    "            divNodata = None\n",
    "            print(\"divNodata is not exist\")\n",
    "\n",
    "        print(\"isNextButton:{} isPrevButton:{} {}\".format(nextButton != None, prevButton != None, pagingItemCount))\n",
    "\n",
    "        # 다음은 있고 이전이 없고 개수가 11개 -> 첫 페이지 인데 500개 이상\n",
    "        if(nextButton != None and prevButton == None and pagingItemCount == 11):\n",
    "            print(\"첫 페이지 다음 버튼을 누른다\")\n",
    "            nextButton.click()\n",
    "            pageCount += 1\n",
    "        # 이전과 다음이 있고 개수가 12개\n",
    "        elif(nextButton != None and prevButton != None and pagingItemCount == 12):\n",
    "            print(\"nth page 다음 버튼을 누른다\")\n",
    "            nextButton.click()\n",
    "            pageCount += 1\n",
    "        time.sleep(1)\n",
    "\n",
    "    # 다음이 없고 이전만 있고 개수가 11개 미만 -> 마지막 페이지\n",
    "    if(nextButton == None and prevButton != None and pagingItemCount < 11):\n",
    "        print(\"마지막 페이지에 가서 개수를 센다 pagingItemsCnt:{} pagingItems:{}\".format(pageCount), pagingItemCount)\n",
    "        # //*[@id=\"main-area\"]/div[7]/a[1] <prev\n",
    "        # //*[@id=\"main-area\"]/div[7]/a[2]\n",
    "        driver.find_element_by_xpath('//*[@id=\"main-area\"]/div[7]/a[{}]'.format(pagingItemCount)).click()\n",
    "\n",
    "    # 다음이 없고 이전도 없고 페이징도 0개\n",
    "    elif (nextButton == None and prevButton == None and pagingItemCount == 0):\n",
    "        print(\"검색 결과가 없음\")\n",
    "        pagingItemCount = 1\n",
    "    # 다음이 없고 이전도 없고 개수가 10개 이하\n",
    "    elif(nextButton == None and prevButton == None and pagingItemCount <= 10):\n",
    "        print(\"검색결과가 첫페이지 마지막 페이지에 가서 개수를 센다 pagingItemsCnt:{} pagingItems:{}\".format(pageCount, pagingItemCount))\n",
    "        driver.find_element_by_xpath('//*[@id=\"main-area\"]/div[7]/a[{}]'.format(pagingItemCount)).click()\n",
    "    elif(nextButton == None and prevButton == None and pageCount == 0 and pagingItems == 12):\n",
    "        pagingItemCount = 1\n",
    "    else:\n",
    "        print(\"--pageCount:{} pagingItems:{}-\".format(pageCount, pagingItemCount))\n",
    "\n",
    "    pageString = driver.page_source\n",
    "    lastPageItemCount = parse(pageString)\n",
    "    cafeName = url.split(\"clubid=\")[1]\n",
    "    total = (pageCount * 10 * 50) + (pagingItemCount - 1) * 50 + (lastPageItemCount // 2)\n",
    "    print(\"total:{} pageCount:{} pagingItemCount:{} lastPageItemCount:{}\".format(total, pageCount, pagingItemCount, lastPageItemCount))\n",
    "    return {\"cafeName\": cafeName, \"keyword\":keyword, \"fromDate\":fromDate, \"toDate\":toDate, \"total\":total}\n",
    "\n",
    "\n",
    "def getResultList(cafeUrl, keyword, dateList):\n",
    "    resultList = []\n",
    "    for date in dateList:\n",
    "        time.sleep(1)\n",
    "        res = findKeywordDate(cafeUrl, keyword, date['fromDate'], date['toDate'])\n",
    "        resultList.append(res)\n",
    "    return resultList\n",
    "\n",
    "\n",
    "\n",
    "dateList = [\n",
    "    {\"fromDate\":\"2018-01-01\", \"toDate\":\"2018-01-31\"},\n",
    "    {\"fromDate\":\"2018-02-01\", \"toDate\":\"2018-02-28\"},\n",
    "    {\"fromDate\":\"2018-03-01\", \"toDate\":\"2018-03-31\"},\n",
    "    {\"fromDate\":\"2018-04-01\", \"toDate\":\"2018-04-30\"},\n",
    "    {\"fromDate\":\"2018-05-01\", \"toDate\":\"2018-05-31\"},\n",
    "    {\"fromDate\":\"2018-06-01\", \"toDate\":\"2018-06-30\"},\n",
    "    {\"fromDate\":\"2018-07-01\", \"toDate\":\"2018-07-31\"},\n",
    "    {\"fromDate\":\"2018-08-01\", \"toDate\":\"2018-08-31\"},\n",
    "    {\"fromDate\":\"2018-09-01\", \"toDate\":\"2018-09-30\"},\n",
    "    {\"fromDate\":\"2018-10-01\", \"toDate\":\"2018-10-31\"},\n",
    "    {\"fromDate\":\"2018-11-01\", \"toDate\":\"2018-11-30\"},\n",
    "    {\"fromDate\":\"2018-12-01\", \"toDate\":\"2018-12-31\"},\n",
    "    {\"fromDate\":\"2019-01-01\", \"toDate\":\"2019-01-31\"},\n",
    "    {\"fromDate\":\"2019-02-01\", \"toDate\":\"2019-02-28\"},\n",
    "    {\"fromDate\":\"2019-03-01\", \"toDate\":\"2019-03-31\"},\n",
    "    {\"fromDate\":\"2019-04-01\", \"toDate\":\"2019-04-30\"},\n",
    "    {\"fromDate\":\"2019-05-01\", \"toDate\":\"2019-05-31\"},\n",
    "    {\"fromDate\":\"2019-06-01\", \"toDate\":\"2019-06-30\"},\n",
    "    {\"fromDate\":\"2019-07-01\", \"toDate\":\"2019-07-31\"},\n",
    "]\n",
    "\n",
    "def collectKeywordCount(cafeUrl, cafeName, keywordList, dateList):\n",
    "    print(datetime.now())\n",
    "    aa = []\n",
    "    for keyword in keywordList:\n",
    "        result = getResultList(cafeUrl, keyword, dateList)\n",
    "        print(result)\n",
    "        file = open(\"./{}/{}.json\".format(cafeName, keyword), \"w+\")\n",
    "        file.write(json.dumps(result))\n",
    "\n",
    "    print(datetime.now())\n",
    "\n",
    "\n",
    "cafeIdList = [\n",
    "    {\"id\":\"10298136\", \"cafeName\":\"remonterrace\", \"style\":\"new\"},#레몬테라스\n",
    "    {\"id\":\"10094499\", \"cafeName\":\"imsanbu\", \"style\":\"new\"},#맘스홀릭\n",
    "    {\"id\":\"12448054\", \"cafeName\":\"isajime\", \"style\":\"new\"}, # 일산맘\n",
    "    {\"id\":\"12448054\", \"cafeName\":\"miznett\", \"style\":\"new\"}, #미즈넷\n",
    "    {\"id\":\"12448054\", \"cafeName\":\"gangmok\", \"style\":\"new\"}, #강남목동맘\n",
    "    {\"id\":\"10298136\", \"cafeName\":\"remonterrace\"},\n",
    "    {\"id\":\"10298136\", \"cafeName\":\"remonterrace\"},\n",
    "    {\"id\":\"10298136\", \"cafeName\":\"remonterrace\"},\n",
    "    {\"id\":\"10298136\", \"cafeName\":\"remonterrace\"},\n",
    "]\n",
    "\n",
    "keywordList = [\n",
    "    \"락토핏\",\n",
    "    \"엘레나\",\n",
    "    \"프로스랩\",\n",
    "    \"아임비오\",\n",
    "    \"자로우펨도피러스\",\n",
    "    \"셀티아이\",\n",
    "    \"여에스더\",\n",
    "    \"애터미\",\n",
    "    \"암웨이\",\n",
    "    \"레이디스밸런스\",\n",
    "    \"듀오락\",\n",
    "    \"닥터아돌\",\n",
    "    \"락피도\",\n",
    "    \"드시모네\"\n",
    "]\n",
    "idx = 1\n",
    "url = 'https://cafe.naver.com/ArticleSearchList.nhn?search.clubid={}'.format(cafeIdList[idx]['id'])\n",
    "driver.get(url)\n",
    "driver.switch_to_frame(\"cafe_main\")\n",
    "collectKeywordCount(url, cafeIdList[idx]['cafeName'], keywordList, dateList)\n",
    "\n",
    "time.sleep(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "driver.close()"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.6"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
